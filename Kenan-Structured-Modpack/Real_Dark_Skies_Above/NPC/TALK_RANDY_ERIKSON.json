[
  {
    "//": "Provides plot hooks and missions arcs",
    "type": "npc",
    "id": "DKZ_RANDY_ERIKSON",
    "class": "NC_Randy_Erikson",
    "name_unique": "兰迪·埃里克森",
    "name_suffix": "技术员",
    "attitude": 0,
    "mission": 7,
    "mission_offered": "MISSION_REFUGEE_RANDY_ERIKSON_1",
    "chat": "TALK_RANDY_ERIKSON_ROOT",
    "faction": "free_merchants"
  },
  {
    "type": "npc_class",
    "id": "NC_Randy_Erikson",
    "name": {
      "str": "Randy Erikson"
    },
    "job_description": "I work with the staff at the refugee center to fight the Xenoids.",
    "skills": [
      {
        "skill": "computer",
        "level": {
          "rng": [
            7,
            8
          ]
        }
      },
      {
        "skill": "electronics",
        "level": {
          "rng": [
            5,
            6
          ]
        }
      },
      {
        "skill": "dodge",
        "level": {
          "rng": [
            2,
            3
          ]
        }
      },
      {
        "skill": "gun",
        "level": {
          "rng": [
            3,
            4
          ]
        }
      },
      {
        "skill": "pistol",
        "level": {
          "rng": [
            2,
            3
          ]
        }
      },
      {
        "skill": "rifle",
        "level": {
          "rng": [
            2,
            4
          ]
        }
      },
      {
        "skill": "shotgun",
        "level": {
          "rng": [
            1,
            2
          ]
        }
      },
      {
        "skill": "smg",
        "level": {
          "rng": [
            1,
            2
          ]
        }
      },
      {
        "skill": "firstaid",
        "level": {
          "rng": [
            1,
            2
          ]
        }
      },
      {
        "skill": "fabrication",
        "level": {
          "rng": [
            2,
            3
          ]
        }
      },
      {
        "skill": "ALL",
        "level": {
          "mul": [
            {
              "one_in": 3
            },
            {
              "sum": [
                {
                  "dice": [
                    4,
                    2
                  ]
                },
                {
                  "rng": [
                    -3,
                    0
                  ]
                }
              ]
            }
          ]
        }
      }
    ],
    "traits": [
      {
        "trait": "DKZ_TECH",
        "prob": 100
      },
      {
        "trait": "PALE",
        "prob": 100
      },
      {
        "trait": "hair_red_mohawk",
        "prob": 100
      },
      {
        "trait": "FACIAL_HAIR_3DAYSTUBBLE",
        "prob": 100
      },
      {
        "trait": "DISRESISTANT",
        "prob": 100
      },
      {
        "trait": "INFRESIST",
        "prob": 100
      },
      {
        "trait": "POISRESIST",
        "prob": 100
      },
      {
        "trait": "ROBUST",
        "prob": 100
      },
      {
        "trait": "SPIRITUAL",
        "prob": 100
      },
      {
        "trait": "TOUGH_FEET",
        "prob": 100
      },
      {
        "trait": "GLASSJAW",
        "prob": 100
      },
      {
        "trait": "BADTEMPER",
        "prob": 100
      }
    ],
    "bonus_str": {
      "rng": [
        0,
        1
      ]
    },
    "bonus_dex": {
      "rng": [
        -1,
        1
      ]
    },
    "bonus_int": {
      "rng": [
        5,
        7
      ]
    },
    "bonus_per": {
      "rng": [
        -2,
        -1
      ]
    },
    "worn_override": "NC_DKZ_RANDY_ERIKSON_worn",
    "carry_override": "NC_DKZ_RANDY_ERIKSON_carried",
    "weapon_override": "NC_DKZ_RANDY_ERIKSON_weapon"
  },
  {
    "id": "NC_DKZ_RANDY_ERIKSON_weapon",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      {
        "item": "ak47"
      }
    ]
  },
  {
    "id": "NC_DKZ_RANDY_ERIKSON_worn",
    "type": "item_group",
    "subtype": "collection",
    "entries": [
      {
        "item": "boxer_shorts"
      },
      {
        "item": "survivor_goggles"
      },
      {
        "item": "linuxtshirt"
      },
      {
        "item": "pants_cargo"
      },
      {
        "item": "socks"
      },
      {
        "item": "boots_rubber"
      },
      {
        "item": "dkz_zenture_industries_premium_zwatch"
      },
      {
        "item": "backpack"
      }
    ]
  },
  {
    "id": "NC_DKZ_RANDY_ERIKSON_carried",
    "type": "item_group",
    "subtype": "collection",
    "items": [
      {
        "item": "radio"
      },
      {
        "item": "book_fict_soft_scifi_roadp"
      },
      {
        "item": "multitool"
      },
      {
        "item": "laptop"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_ROOT",
    "dynamic_line": {
      "u_has_var": "u_met_Randy_Erikson",
      "type": "general",
      "context": "meeting",
      "value": "yes",
      "yes": [
        "你好。你打碎了什么？",
        "这次怎么了？",
        "你好，又见面了。",
        "哦，嘿。你现在在做什么？"
      ],
      "no": "我想我以前没见过你在这里闲逛。我是兰迪。你走的时候把门关上。"
    },
    "responses": [
      {
        "text": "哇，我也很高兴见到你，兰迪。",
        "effect": {
          "u_add_var": "u_met_Randy_Erikson",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "condition": {
          "not": {
            "u_has_var": "u_met_Randy_Erikson",
            "type": "general",
            "context": "meeting",
            "value": "yes"
          }
        },
        "topic": "TALK_RANDY_ERIKSON_FIRSTMEET"
      },
      {
        "text": "嗨，兰迪。有时间谈谈吗？",
        "topic": "TALK_RANDY_ERIKSON_QUESTIONS",
        "condition": {
          "u_has_var": "u_met_Randy_Erikson",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        }
      },
      {
        "text": "嘿，兰迪，我也很高兴见到你。再见。",
        "effect": {
          "u_add_var": "u_met_Randy_Erikson",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "condition": {
          "not": {
            "u_has_var": "u_met_Randy_Erikson",
            "type": "general",
            "context": "meeting",
            "value": "yes"
          }
        },
        "topic": "TALK_DONE"
      },
      {
        "text": "嗨，兰迪。我没时间说话。",
        "condition": {
          "u_has_var": "u_met_Randy_Erikson",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_FIRSTMEET",
    "dynamic_line": "除非灯坏了，否则我一般不会让任何访客回来。你想要什么？你是不是被绳子绊倒了。",
    "responses": [
      {
        "text": "不，我只是有些问题。",
        "topic": "TALK_RANDY_ERIKSON_QUESTIONS"
      },
      {
        "text": "实际上我正要出去。再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "TALK_RANDY_ERIKSON_QUESTIONS",
    "type": "talk_topic",
    "dynamic_line": [
      "我不需要永远聊天，你需要什么？",
      "是的，你想要什么？",
      "我很忙，但可能能帮上忙。",
      "怎么了",
      "现在什么坏了？",
      {
        "u_male": [
          "Buddy, what do you want?",
          "Dude, what?"
        ],
        "no": [
          "Girl, want do you want?"
        ]
      }
    ],
    "responses": [
      {
        "text": "我想建立一支清理小队来清理后院。你能帮手吗？",
        "condition": {
          "and": [
            {
              "u_has_mission": "MISSION_REFUGEE_Boris_CLEANUP"
            },
            {
              "not": {
                "npc_has_var": "cleanup_asked",
                "type": "mission",
                "context": "Boris_mission_1",
                "value": "yes"
              }
            }
          ]
        },
        "trial": {
          "type": "PERSUADE",
          "difficulty": 1
        },
        "success": {
          "topic": "TALK_REFUGEE_Accept_Boris_Mission_1"
        },
        "failure": {
          "topic": "TALK_REFUGEE_Refuse_Boris_Mission_1"
        }
      },
      {
        "text": "[RP]桌子上的东西是什么？",
        "effect": {
          "u_add_var": "u_Talk_To_RandyErikson_about_Xenoids",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "condition": {
          "and": [
            {
              "not": {
                "u_has_var": "u_Talk_To_RandyErikson_about_Xenoids",
                "type": "general",
                "context": "meeting",
                "value": "yes"
              }
            },
            {
              "u_has_any_trait": [
                "DKZ_COMBAT",
                "DKZ_TECH",
                "DKZ_SCIENTIST",
                "DKZ_MEDIC",
                "DKZ_LEADER"
              ]
            }
          ]
        },
        "topic": "TALK_RANDY_ERIKSON_ASK_ABOUT_XENOIDS"
      },
      {
        "text": "那是一块非常漂亮的手表。",
        "effect": {
          "u_add_var": "u_Talk_To_RandyErikson_about_Watch",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "condition": {
          "and": [
            {
              "not": {
                "u_has_var": "u_Talk_To_RandyErikson_about_Watch",
                "type": "general",
                "context": "meeting",
                "value": "yes"
              }
            },
            {
              "u_is_wearing": "dkz_zenture_industries_premium_zwatch"
            }
          ]
        },
        "opinion": {
          "trust": 1,
          "value": 2
        },
        "topic": "TALK_RANDY_ERIKSON_ASK_ABOUT_WATCH"
      },
      {
        "text": "那是一块非常漂亮的手表。",
        "effect": {
          "u_add_var": "u_Talk_To_RandyErikson_about_Watch",
          "type": "general",
          "context": "meeting",
          "value": "yes"
        },
        "condition": {
          "and": [
            {
              "not": {
                "u_has_var": "u_Talk_To_RandyErikson_about_Watch",
                "type": "general",
                "context": "meeting",
                "value": "yes"
              }
            },
            {
              "u_is_wearing": "dkz_zenture_industries_basic_zwatch"
            }
          ]
        },
        "opinion": {
          "trust": 1,
          "value": 1
        },
        "topic": "TALK_RANDY_ERIKSON_ASK_ABOUT_WATCH"
      },
      {
        "text": "你是怎么来到这里的？",
        "topic": "TALK_RANDY_ERIKSON_BACKGROUND"
      },
      {
        "text": "你在这里干什么？",
        "topic": "TALK_RANDY_ERIKSON_GENERATOR"
      },
      {
        "text": "我能帮你什么忙吗？",
        "topic": "TALK_MISSION_LIST"
      },
      {
        "text": "关于那个任务…",
        "topic": "TALK_MISSION_INQUIRE",
        "condition": "has_assigned_mission"
      },
      {
        "text": "忙你的吧……",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_BACKGROUND",
    "dynamic_line": [
      "我试图与我的家人取得联系，因为我想如果有人要与外星入侵者作战，那就是我叔叔。但最终，我用最后一本完整的杂志扔掉了半打迷路的东西——一对即将杀死我的氙。然后，我飞快地跑来这里，现在我被困在这所公立学校的废墟中，尽我所能帮助这些人开灯。如果我想要的话，我可能会和家人团聚，但我想确保这些人在我考虑离开这个地方之前是安全的。这里的人都很好，这个地方对你有点吸引力。"
    ],
    "responses": [
      {
        "text": "你喜欢这里真好。",
        "topic": "TALK_NONE"
      },
      {
        "text": "好的，回头见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_GENERATOR",
    "dynamic_line": [
      {
        "u_has_var": "RANDY_FIXED_GENERATOR",
        "context": "flag",
        "type": "mission",
        "value": "yes",
        "yes": "Now that the generator is fixed, I finally beat my record length playing Snake.  I also have time to finish reading 'Roadside Picnic'.  Thanks again, stalker.",
        "no": "I've been spending most of my time keeping this jury-rigged generator running just slowly enough to trickle charge the batteries that are built into this old machinery so it can keep these utility lights on at night. It as effective as can be considering what I've got to work with."
      }
    ],
    "responses": [
      {
        "text": "还有别的。",
        "topic": "TALK_NONE"
      },
      {
        "text": "祝你好运。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_ASK_ABOUT_WATCH",
    "dynamic_line": [
      "我知道没错。我认识一个在里面的家伙，就在他真的砸到风扇之前，我的就拿到了。我只希望我所有的老朋友还活着，这样我就可以向他们吹嘘拥有最酷的手表了。"
    ],
    "responses": [
      {
        "text": "是的，我也是。",
        "topic": "TALK_NONE"
      },
      {
        "text": "我这就得走了。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_RANDY_ERIKSON_ASK_ABOUT_XENOIDS",
    "dynamic_line": [
      "在我把他们的装备拆开后，我成功地打捞到了这个，这和我在地球上见过的任何东西都不一样。我几乎可以肯定，这些金属板似乎是用3d打印制作的，像布料一样的编织物比石棉更阻燃，我甚至不知道从哪里开始使用这些该死的电子产品。"
    ],
    "responses": [
      {
        "text": "真有意思。",
        "topic": "TALK_NONE"
      },
      {
        "text": "好的，回头见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_1",
    "type": "mission_definition",
    "name": {
      "str": "寻找扳手"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "为兰迪·埃里克森找回一把像样的扳手。注意他说可能需要的其他工具。",
    "difficulty": 2,
    "value": 0,
    "item": "wrench",
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_REFUGEE_RANDY_ERIKSON_2",
    "dialogue": {
      "describe": "我需要一把真正的扳手来修理这里的东西。",
      "offer": "问这个我觉得很傻，但你能找到一把好扳手吗？我的多功能工具在大多数情况下都能很好地工作，但我可以用一个漂亮的可调式月牙扳手完成很多事情。",
      "accepted": "谢谢你。",
      "rejected": "那为什么要问？",
      "advice": "记得你以前去哪儿买扳手吗，去那儿试试。如果你看到一个电压表或烙铁，也抓住他们。",
      "inquire": "找到了吗？",
      "success": "谢谢！现在我终于准备好了，以防发电机决定自杀。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    }
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_2",
    "type": "mission_definition",
    "name": {
      "str": "寻找一只电压表"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "兰迪·埃里克森说他需要一个电压表来解决一些电子机器的故障。",
    "difficulty": 3,
    "value": 0,
    "item": "voltmeter",
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_REFUGEE_RANDY_ERIKSON_3",
    "dialogue": {
      "describe": "我需要一个电压表来诊断电气系统。",
      "offer": "我希望你在上次任务中听了我的建议，因为现在我需要一个电压表来找出为什么会有更多的警告灯闪烁。去拿一个。",
      "accepted": "谢了。",
      "rejected": "我想现在能用了，但谁知道灯什么时候会永远熄灭呢？",
      "advice": "我记得在商场的电子商店看到一个很好的电压表，然后大便就砸到了电扇上。去那里试试吧？",
      "inquire": "找到了吗？",
      "success": "非常感谢。现在让我们看看哪个部分不起作用。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    }
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_3",
    "type": "mission_definition",
    "name": {
      "str": "寻找一个电烙铁"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "兰迪埃里克森需要一个工作烙铁来固定电源控制板。",
    "difficulty": 3,
    "value": 0,
    "item": "soldering_iron",
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_REFUGEE_RANDY_ERIKSON_4",
    "dialogue": {
      "describe": "我需要焊接来修理电气系统。",
      "offer": "我想我知道电源控制板的哪些部分出了问题。幸运的是我有替换电路，但我需要一个好的烙铁。你不会已经有了吧？",
      "accepted": "谢了。",
      "rejected": "我想现在能用了，但谁知道灯什么时候会永远熄灭呢？",
      "advice": "你不是在商场的电子商店里找到的吗？回去拿些多余的焊料。",
      "inquire": "找到了吗？",
      "success": "太好了，现在我得把它修好。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    }
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_4",
    "type": "mission_definition",
    "name": {
      "str": "拿一磅焊丝"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "Randy Erikson 需要225单位的焊料以完全修复电源控制板。",
    "difficulty": 1,
    "value": 0,
    "item": "solder_wire",
    "count": 225,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_REFUGEE_RANDY_ERIKSON_5",
    "dialogue": {
      "describe": "我需要更多的焊料。",
      "offer": "我大大低估了我需要多少焊料来修复这个东西。我至少需要一英镑来修理所有坏掉的东西。你身上有那么多吗？",
      "accepted": "谢了。",
      "rejected": "我想现在能用了，但谁知道灯什么时候会永远熄灭呢？",
      "advice": "一磅是225单位的焊丝。你能记住那个号码吗？还是需要我帮你记下来？",
      "inquire": "找到了吗？",
      "success": "太好了，现在我得把它修好。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    },
    "end": {
      "effect": [
        {
          "u_add_var": "RANDY_FIXED_GENERATOR",
          "type": "mission",
          "context": "flag",
          "value": "yes"
        },
        {
          "math":["u_counter_refugee_center_refugee_happiness","++"]
        }
      ]
    }
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_5",
    "type": "mission_definition",
    "name": {
      "str": "找些参考软件"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "兰迪·埃里克森需要一份叫做“集成电路档案数据库”的硬拷贝。可能要看看你是否能找到一个互联网连接，或看看是否有人保存在一个USB驱动器。",
    "difficulty": 8,
    "value": 0,
    "item": "software_electronics_reference",
    "followup": "MISSION_REFUGEE_RANDY_ERIKSON_6",
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "我需要电路参考文件。",
      "offer": "我把所有松动的零件都修好了，所有需要更换的电线都换了，但要检查每一条电路，我需要一份“集成电路档案数据库”的硬拷贝，因为我不能再向互联网索要那种东西了。",
      "accepted": "谢了。",
      "rejected": "我需要那些参考文件来仔细检查一切。",
      "advice": "我打赌一个秘密的政府实验室有一份副本。它应该在某个USB驱动器上。",
      "inquire": "找到了吗？",
      "success": "哇，你真的找到了。这里有一本书可以帮助你使用停在那里的直升机。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    },
    "end": {
      "effect": [
        {
          "u_add_var": "RANDY_HAS_REFERANCE_SOFTWARE",
          "type": "mission",
          "context": "flag",
          "value": "yes"
        },
        {
          "u_spawn_item": "dkz_helicopter_flying_handbook",
          "count": 1
        }
      ]
    }
  },
  {
    "id": "MISSION_REFUGEE_RANDY_ERIKSON_6",
    "type": "mission_definition",
    "name": {
      "str": "找些爱好软件"
    },
    "goal": "MGOAL_FIND_ITEM",
    "description": "兰迪·埃里克森想要一个可能被贴错标签的软件。一开始可能没用。",
    "difficulty": 9,
    "value": 0,
    "item": "software_useless",
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "我喜欢一些旧的软件。",
      "offer": "我需要另一个旧的软件，不知道它是什么，但我会知道，当我看到它。。",
      "accepted": "谢了。",
      "rejected": "无论什么。",
      "advice": "当我检查USB上的文件时就会知道了。可能被贴错了杂项之类的标签。",
      "inquire": "找到了吗？",
      "success": "终于搞到我喜欢的所有《CDDA大灾变》的mod啦！这个游戏不装mod太无聊了。拿着这本书，你会喜欢的，还有一些这里的工作人员给我的纸币，给你。",
      "success_lie": "这对我有什么好处？",
      "failure": "没事的。我真的没想到你会成功。"
    },
    "end": {
      "effect": [
        {
          "u_spawn_item": "FMCNote",
          "count": 137
        },
        {
          "u_add_var": "RANDYS_BUDDY",
          "type": "mission",
          "context": "flag",
          "value": "yes"
        },
        {
          "math":["u_counter_refugee_center_refugee_happiness","++"]
        },
        {
          "u_spawn_item": "dkz_helicopter_design_for_dummies",
          "count": 1
        }
      ]
    }
  }
]