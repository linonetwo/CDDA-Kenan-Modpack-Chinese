[
  {
    "type": "npc",
    "id": "NPC_bandit_fs_trapper",
    "class": "NC_HUNTER",
    "attitude": 0,
    "mission": 8,
    "name_suffix": "陷阱女猎人",
    "chat": "TALK_bandit_fs_trapper",
    "mission_offered": "MISSION_bandit_fs_trapper_1",
    "faction": "forest_snakes"
  },
  {
    "id": [
      "TALK_bandit_fs_trapper"
    ],
    "type": "talk_topic",
    "dynamic_line": {
      "u_has_var": "flag_missions_fs_bandit_camp_unlocked",
      "value": "yes",
      "yes": "你好。",
      "no": "我很忙。晚点再跟我说。"
    },
    "responses": [
      {
        "text": "嗨。",
        "topic": "TALK_bandit_fs_trapper1",
        "condition": {
          "u_has_var": "flag_missions_fs_bandit_camp_unlocked",
          "value": "yes"
        },
        "effect": {
          "npc_first_topic": "TALK_bandit_fs_trapper1"
        }
      }
    ]
  },
  {
    "id": [
      "TALK_bandit_fs_trapper1",
      "TALK_bandit_fs_trapper_Background",
      "TALK_bandit_fs_trapper_busy",
      "TALK_bandit_fs_trapper_got_reward"
    ],
    "type": "talk_topic",
    "dynamic_line": "<greet>",
    "responses": [
      {
        "text": "关于那个任务……",
        "condition": {
          "and": [
            "has_assigned_mission",
            "mission_complete"
          ]
        },
        "topic": "TALK_MISSION_INQUIRE"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_bandit_fs_trapper_Background"
      },
      {
        "text": "需要帮忙么？",
        "trial": {
          "type": "CONDITION",
          "condition": {
            "not": {
              "math": [
                "time_since(n_time_wait_hunting)",
                "<",
                "time('7 d')"
              ]
            }
          }
        },
        "success": {
          "effect": [
            {
              "math": [
                "n_time_wait_hunting",
                "=",
                "time('now')"
              ]
            }
          ],
          "topic": "TALK_MISSION_LIST"
        },
        "failure": {
          "topic": "TALK_bandit_fs_trapper_busy"
        }
      },
      {
        "text": "让我们交易吧。",
        "condition": {
          "npc_has_var": "flag_open_trade_trade",
          "value": "yes"
        },
        "topic": "TALK_bandit_fs_trapper1",
        "effect": "start_trade"
      },
      {
        "text": "那奖励呢？",
        "condition": {
          "math": [
            "npc_count_missions_rewards_reward",
            ">",
            "0"
          ]
        },
        "effect": {
          "math": [
            "n_count_missions_rewards_reward",
            "--"
          ]
        },
        "topic": "TALK_bandit_fs_trapper_reward"
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_fs_trapper_reward",
    "dynamic_line": "你想要什么？",
    "responses": [
      {
        "text": "箭头。",
        "effect": {
          "u_spawn_item": "arrow_cf",
          "count": 8
        },
        "topic": "TALK_bandit_fs_trapper_got_reward"
      },
      {
        "text": "霰弹。",
        "effect": {
          "u_spawn_item": "bolt_cf",
          "count": 8
        },
        "topic": "TALK_bandit_fs_trapper_got_reward"
      },
      {
        "text": "步枪子弹。",
        "effect": {
          "u_spawn_item": "270win_jsp",
          "count": 20
        },
        "topic": "TALK_bandit_fs_trapper_got_reward"
      },
      {
        "text": "散弹枪子弹。",
        "effect": {
          "u_spawn_item": "shot_00",
          "count": 20
        },
        "topic": "TALK_bandit_fs_trapper_got_reward"
      },
      {
        "text": "熊陷阱。",
        "effect": {
          "u_spawn_item": "beartrap",
          "count": 5
        },
        "topic": "TALK_bandit_fs_trapper_got_reward"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_fs_trapper_Background",
    "dynamic_line": "在<the_cataclysm>之前，我的主要活动是打猎。新鲜的肉总是能卖出高价，而我有着足够的老主顾。我认识这些家伙很长时间了，因为以前有一次，我很幸运地在他们的一次森林训练中遇到了他们。简言之，那次撞面的情况对我来说一开始是不算什么好事的，但不知怎么地，我们谈了起来，最终决定相安无事各走各的。后来当暴乱开始时，我收集了一切有用的东西带走，并立即搬到这里。在我看来，和一群武装人员在一起，我会更冷静，而他们并不反对我呆在这。在这里我也像以前那么做：我打猎、处理肉储备起来、教其他人我的手艺等等。"
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_fs_trapper_busy",
    "dynamic_line": "我还没有遇到合适的野兽。晚点来看我。"
  },
  {
    "type": "talk_topic",
    "id": "TALK_bandit_fs_trapper_got_reward",
    "dynamic_line": "不错的选择，猎人。"
  },
  {
    "id": "MISSION_bandit_fs_trapper_1",
    "type": "mission_definition",
    "name": {
      "str": "野生狩猎"
    },
    "description": "杀死25只野生动物，并向森林蛇捕捉者报告。",
    "goal": "MGOAL_KILL_MONSTER_SPEC",
    "monster_species": "MAMMAL",
    "monster_kill_goal": 25,
    "difficulty": 0,
    "value": 5000,
    "end": {
      "effect": [
        {
          "npc_add_var": "flag_open_trade_trade",
          "value": "yes"
        },
        {
          "math": [
            "n_count_missions_rewards_reward",
            "++"
          ]
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_bandit_fs_trapper_2",
    "dialogue": {
      "describe": "-",
      "offer": "我很无聊。我需要收集冬季用品，但我不喜欢。听着，你不想学打猎吗？如果你帮我，我可以帮你。你怎么说？",
      "accepted": "好的。让我们从一个小测试开始。猎杀25只动物。不管是什么样的。你可以自由选择方法。",
      "rejected": "真可惜。我还有更多的工作要做…",
      "advice": "猎杀猎物的方法有很多，但有效的方法并不多。如果你有一把带光学的步枪，那么任务就变得简单了，但这完全取决于你的射击技巧。如果你有几个陷阱，诱使你的受害者进入它，并完成了一个快速打击心脏。如果你是原始狩猎方法的爱好者，那么伪装技巧是你最好的朋友。挂上几片草，几根小枝，用泥土和草刷你的脸，你就会和一丛高高的灌木无异。检查你的弓，磨好你的矛，然后这是一个技术问题。祝你好运！",
      "inquire": "狩猎进行的怎么样了？",
      "success": "干得好，<name_g>。记住我的忠告，你就永远不会有找食物的困难。顺便说一句，好的工作需要奖励，对吗？",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_bandit_fs_trapper_2",
    "type": "mission_definition",
    "name": {
      "str": "Зимние запасы"
    },
    "description": "把100块肉送到森林蛇捕捉器。",
    "goal": "MGOAL_FIND_ITEM",
    "difficulty": 0,
    "value": 7500,
    "item": "meat",
    "count": 100,
    "end": {
      "effect": [
        {
          "math": [
            "n_count_missions_rewards_reward",
            "++"
          ]
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_bandit_fs_trapper_3",
    "dialogue": {
      "describe": "-",
      "offer": "你好，猎人。我看你在学习狩猎技艺方面做得很好。我为你准备了另一个小测试。你准备好了吗，猎人？",
      "accepted": "好吧。让我们继续。给我100块生肉。这些森林里到处都是野味，所以听从我的建议，你应该不难得到足够的肉。",
      "rejected": "真可惜。我还有更多的工作要做…",
      "advice": "有很多方法可以减少游戏，但效果要差得多。当然，最重要的工具是你的刀。没有锋利的刀打猎是没有意义的。还有，别忘了抓住绳子。如果你需要当场宰杀猎物，你可以把它挂在树上。切割时，最主要的是不要损伤皮肤和肌腱，但这是有经验的。祝你好运！",
      "inquire": "狩猎进行的怎么样了？",
      "success": "干得好，<name_g>。记住我的忠告，你就永远不会有找食物的困难。顺便说一句，好的工作需要奖励，对吗？",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_bandit_fs_trapper_3",
    "type": "mission_definition",
    "name": {
      "str": "沙卡拉卡"
    },
    "description": "找到并杀死传说中的沙卡拉卡。",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 0,
    "value": 10000,
    "has_generic_rewards": false,
    "start": {
      "assign_mission_target": {
        "om_terrain": "cave",
        "om_special": "Cave",
        "om_terrain_replace": "forest",
        "search_range": 150,
        "min_distance": 50,
        "random": true
      },
      "update_mapgen": {
        "place_monster": [
          {
            "monster": "mon_bear_mutant_3headed",
            "name": "Shakalaka",
            "x": 12,
            "y": 12,
            "target": true
          }
        ]
      }
    },
    "end": {
      "effect": [
        {
          "math": [
            "n_time_wait_hunting",
            "=",
            "time('now')"
          ]
        },
        {
          "math": [
            "n_count_missions_rewards_reward",
            "+=",
            "2"
          ]
        },
        {
          "u_spawn_item": "remington700_270"
        },
        {
          "u_spawn_item": "270win_jsp",
          "count": 30
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_bandit_fs_trapper_4",
    "dialogue": {
      "describe": "-",
      "offer": "你好，猎人。我看你在学习狩猎技艺方面做得很好。我为你准备了另一个重要的测试。你准备好了吗，猎人？",
      "accepted": "听到这个我很高兴。仔细听。在我上次的一次狩猎中，我发现了一个非常有趣的东西——沙卡拉卡洞穴！什么，你从来没有听说过传说中的夏卡拉卡？这真是一头可怕的野兽 <name_g>。人们说他长得像只熊，但是有三个头…我没有骗你！简言之，去猎杀这只野兽，在你猎杀它之前不要回来。",
      "rejected": "真可惜。我还有更多的工作要做…",
      "advice": "没人知道他真的存在，但我设法找到了他的藏身处。在我的镇子里有传言说这头野兽能一下子摧毁整个棚子，里面有牲畜！所以要小心<very>。",
      "inquire": "狩猎进行的怎么样了？",
      "success": "我看我的功课对你来说没有白费，<name_g>。打败了这样一头野兽，你赢得了这个州第一个猎人的称号！当然，在我之后，呵呵。你会得到双倍的奖励，还有我的旧步枪。她忠实地为我服务了很长时间，但现在是把她交给你的时候了。好好对待她，好吗？哦，是的，如果你想猎杀一些更稀有的野兽，如果你想的话，我可以留一些给你。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_bandit_fs_trapper_4",
    "type": "mission_definition",
    "name": {
      "str": "稀有野兽"
    },
    "description": "追踪并杀死一只稀有的野兽。",
    "goal": "MGOAL_KILL_MONSTER",
    "difficulty": 0,
    "value": 0,
    "has_generic_rewards": false,
    "start": {
      "assign_mission_target": {
        "om_terrain": "cave",
        "om_special": "Cave",
        "om_terrain_replace": "forest",
        "min_distance": 35,
        "cant_see": true
      },
      "update_mapgen": {
        "place_monster": [
          {
            "group": "GROUP_RARE_BEASTS",
            "name": "Rare Beast",
            "x": 12,
            "y": 12,
            "target": true
          }
        ]
      }
    },
    "end": {
      "effect": [
        {
          "math": [
            "n_time_wait_hunting",
            "=",
            "time('now')"
          ]
        },
        {
          "math": [
            "n_count_missions_rewards_reward",
            "++"
          ]
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_bandit_fs_trapper_4",
    "dialogue": {
      "describe": "-",
      "offer": "你好，猎人。你想再去打猎吗？我发现了另一种稀有动物的巢穴，我可以告诉你它在哪里。",
      "accepted": "听到这个我很高兴。这是这个地方的坐标，在那里你会遇到你的猎物。祝你好运！",
      "rejected": "真可惜。我还有更多的工作要做…",
      "advice": "你有足够的技巧去猎杀野兽，但是不要忘记一些基本的东西：伪装，耐心和一枪一杀。",
      "inquire": "狩猎进行的怎么样了？",
      "success": "干得好，<name_g>。如果我能找到更多的稀有动物，我会告诉你的。",
      "success_lie": "-",
      "failure": "-"
    }
  }
]