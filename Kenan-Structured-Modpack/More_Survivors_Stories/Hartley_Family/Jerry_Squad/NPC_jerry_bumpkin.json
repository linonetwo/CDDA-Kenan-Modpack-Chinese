[
  {
    "type": "npc",
    "id": "NPC_Jerry_Bumpkin",
    "gender": "male",
    "class": "NC_SCAVENGER",
    "name_unique": "杰瑞·土包子",
    "name_suffix": "本地中枢",
    "attitude": 1,
    "mission": 8,
    "chat": "TALK_Jerry_Bumpkin_start",
    "faction": "jerry_squad",
    "mission_offered": "MISSION_Jerry_Bumpkin_1"
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_Jerry_Bumpkin_start",
      "TALK_Jerry_Bumpkin_talk1",
      "TALK_Jerry_Bumpkin_talk2"
    ],
    "responses": [
      {
        "text": "把你的威胁塞到你的屁股上，<name_b>。",
        "topic": "TALK_Jerry_Bumpkin_talk_nope"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_start",
    "dynamic_line": "你好。你在我的地盘上。尊重我，否则就带着你身上的新洞离开这里。",
    "speaker_effect": {
      "sentinel": "met",
      "effect": {
        "add_mission": "MISSION_Jerry_Bumpkin_0"
      }
    },
    "responses": [
      {
        "text": "[警察]我是警察，所以让开，公民。",
        "topic": "TALK_Jerry_Bumpkin_talk_nope",
        "condition": {
          "u_has_any_trait": [
            "PROF_CYBERCOP",
            "PROF_FED",
            "PROF_PD_DET",
            "PROF_POLICE",
            "PROF_SWAT"
          ]
        }
      },
      {
        "text": "我们只是路过，<name_g>。不需要暴力。",
        "topic": "TALK_Jerry_Bumpkin_talk"
      },
      {
        "text": "请不要伤害我！",
        "topic": "TALK_Jerry_Bumpkin_talk_nope"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_talk",
    "dynamic_line": "你这么认为？你毕竟是我的客人，客人不取悦主人是不礼貌的。",
    "responses": [
      {
        "text": "你不需要伤害我们，我的朋友。我可以补偿你的好客。",
        "trial": {
          "type": "PERSUADE",
          "difficulty": 30
        },
        "success": {
          "topic": "TALK_Jerry_Bumpkin_talk1"
        },
        "failure": {
          "topic": "TALK_Jerry_Bumpkin_talk_nope"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_talk1",
    "dynamic_line": "这是怎么回事？",
    "responses": [
      {
        "text": "只要告诉我需要做什么，我就去做。",
        "trial": {
          "type": "INTIMIDATE",
          "difficulty": 30
        },
        "success": {
          "topic": "TALK_Jerry_Bumpkin_talk2"
        },
        "failure": {
          "topic": "TALK_Jerry_Bumpkin_talk_nope"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_talk2",
    "dynamic_line": "哈！你没事吧。我喜欢你说话的方式，陌生人。我有一些工作要做。处理好你的保姆，然后回来找我，这样我们就可以讨论我们的生意了。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": [
          {
            "u_add_var": "flag_problem_evac_problem_done",
            "value": "yes"
          },
          {
            "npc_first_topic": "TALK_Jerry_Bumpkin_1"
          },
          {
            "u_faction_rep": 15
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_talk_nope",
    "dynamic_line": "我不喜欢像你这样的人。",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": [
          "insult_combat",
          {
            "u_faction_rep": -50
          }
        ]
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": [
      "TALK_Jerry_Bumpkin_1",
      "TALK_Jerry_Bumpkin_busy",
      "TALK_Jerry_Bumpkin_Background",
      "TALK_Jerry_Bumpkin_nickels",
      "TALK_Jerry_Bumpkin_nickels_robber"
    ],
    "dynamic_line": "嘿，陌生人，怎么了？",
    "responses": [
      {
        "text": "关于那个任务……",
        "condition": "has_many_assigned_missions",
        "topic": "TALK_MISSION_INQUIRE"
      },
      {
        "text": "<BGSS_intro_question>",
        "topic": "TALK_Jerry_Bumpkin_Background"
      },
      {
        "text": "镍币？真的？",
        "condition": {
          "npc_has_var": "flag_open_reply_nickel",
          "value": "1"
        },
        "topic": "TALK_Jerry_Bumpkin_nickels"
      },
      {
        "text": "你在<the_cataclysm>之前是个有名的小猪储钱罐劫匪？",
        "condition": {
          "npc_has_var": "flag_open_reply_nickel",
          "value": "2"
        },
        "topic": "TALK_Jerry_Bumpkin_nickels_robber"
      },
      {
        "text": "听着，你把这些硬币放哪儿了？如果我打你，他们会像玩电子游戏一样从你身上掉下来吗？",
        "condition": {
          "npc_has_var": "flag_open_reply_nickel",
          "value": "3"
        },
        "topic": "TALK_Jerry_Bumpkin_nickels_fu"
      },
      {
        "text": "需要帮忙么？",
        "trial": {
          "type": "CONDITION",
          "condition": {
            "or": [
              {
                "u_has_var": "flag_end_u_helped_Barrett_Hartley",
                "value": "yes"
              },
              {
                "not": {
                  "u_has_mission": "MISSION_Rosalyn_Hartley_0"
                }
              }
            ]
          }
        },
        "success": {
          "topic": "TALK_MISSION_LIST"
        },
        "failure": {
          "topic": "TALK_Jerry_Bumpkin_busy"
        }
      },
      {
        "text": "嗯，我失去了你的手下。也许你能再给我一个？",
        "condition": {
          "and": [
            {
              "math": [
                "u_flag_death_lend_goons",
                ">",
                "0"
              ]
            },
            {
              "not": {
                "u_has_mission": "MISSION_Jerry_Bumpkin_goon_0"
              }
            }
          ]
        },
        "trial": {
          "type": "CONDITION",
          "condition": {
            "math": [
              "u_flag_death_lend_goons",
              ">=",
              "2"
            ]
          }
        },
        "success": {
          "topic": "TALK_Jerry_Bumpkin_talk_nope"
        },
        "failure": {
          "topic": "TALK_Jerry_Bumpkin_give_goon"
        }
      },
      {
        "text": "再见。",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_give_goon",
    "dynamic_line": "好吧，再来一个！",
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE",
        "effect": {
          "u_add_var": "flag_goons_jerry_give_goon",
          "value": "yes"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_busy",
    "dynamic_line": "你确定你没忙什么吗？"
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_Background",
    "dynamic_line": "我和我的人从费城乘船来这里。那里的情况很糟糕，不像这里。我们决定离开那里，无论在哪里。不幸的是，我们遇到一群奇怪的怪物毁坏了我们的船，我们不得不迅速改变计划。有一段时间，我们只是漫无目的地闲逛，但后来我们决定定居在我们遇到的第一个庇护所。我们到了。"
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_nickels",
    "dynamic_line": "是的，那他们呢？你不知道这世界上最稳定的货币吗？你有没有发现现在一枚镍币价值要远超过5美分？或者说，5美分硬币……不管怎样，我认为使用旧硬币作为货币没有任何问题，即使是在<the_cataclysm>之后。",
    "speaker_effect": {
      "effect": {
        "npc_lose_var": "flag_open_reply_nickel"
      }
    }
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_nickels_robber",
    "dynamic_line": "<fuck_you> .  再来一个笑话和<ill_kill_you>。",
    "speaker_effect": {
      "effect": {
        "npc_lose_var": "flag_open_reply_nickel"
      }
    }
  },
  {
    "type": "talk_topic",
    "id": "TALK_Jerry_Bumpkin_nickels_fu",
    "dynamic_line": "你知道吗？我受够了你那些愚蠢的笑话！<fuck_you> !",
    "speaker_effect": {
      "effect": [
        {
          "npc_lose_var": "nickel",
          "type": "flag",
          "context": "open_reply"
        },
        {
          "u_faction_rep": -100
        }
      ]
    },
    "responses": [
      {
        "text": "…",
        "topic": "TALK_DONE"
      }
    ]
  },
  {
    "//": ", 'container': 'bag_plastic' ",
    "id": "MISSION_Jerry_Bumpkin_1",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "新暴徒"
    },
    "description": "杰瑞让你为他的船员多带些人手。至少两个就够了。",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "u_has_var": "flag_goons_jerry_goons",
      "value": "2"
    },
    "difficulty": 0,
    "value": 0,
    "start": {
      "effect": [
        {
          "u_add_var": "flag_transfer_ally_transfer_js",
          "value": "yes"
        }
      ]
    },
    "end": {
      "effect": [
        {
          "u_spawn_item": "coin_nickel",
          "count": 2000
        },
        {
          "u_spawn_item": "coin_nickel",
          "count": 2000
        },
        {
          "u_spawn_item": "coin_nickel",
          "count": 1600
        },
        {
          "npc_add_var": "flag_open_reply_nickel",
          "value": "1"
        },
        {
          "u_lose_var": "flag_transfer_ally_transfer_js"
        }
      ]
    },
    "fail": {
      "effect": [
        {
          "u_lose_var": "flag_goons_jerry_goons"
        },
        {
          "u_lose_var": "flag_transfer_ally_transfer_js"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_Jerry_Bumpkin_2",
    "dialogue": {
      "describe": "-",
      "offer": "我想扩大我的小团队。给我带来新的男人，他们会为我而死。我至少有两个。",
      "accepted": "别耽搁了。",
      "rejected": "怕了吗？",
      "advice": "你可以带任何的，但我更喜欢漂亮的女孩。",
      "inquire": "我会一直在这里等你。",
      "success": "干得好！给，把这个当作付款。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_Jerry_Bumpkin_2",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "清洁酒店"
    },
    "description": "帮助杰瑞把旅馆建成他的新基地。为此，请将其从<zombies>中清除。",
    "goal": "MGOAL_CONDITION",
    "goal_condition": {
      "u_has_var": "count_cleaning_jerry_cleaning",
      "value": "6"
    },
    "difficulty": 0,
    "value": 0,
    "start": {
      "reveal_om_ter": "hotel_tower_1_2",
      "effect": [
        {
          "u_add_var": "count_cleaning_jerry_cleaning",
          "value": "0"
        },
        {
          "u_add_var": "flag_goons_jerry_give_goon",
          "value": "yes"
        }
      ]
    },
    "end": {
      "effect": [
        {
          "u_lose_var": "count_meeting_jerry_cleaning"
        },
        {
          "u_lose_var": "flag_death_lend_goons"
        },
        {
          "u_spawn_item": "coin_nickel",
          "count": 1125
        },
        {
          "u_spawn_item": "coin_nickel",
          "count": 1125
        },
        {
          "npc_add_var": "flag_open_reply_nickel",
          "value": "2"
        }
      ]
    },
    "fail": {
      "effect": [
        {
          "u_lose_var": "count_meeting_jerry_cleaning"
        },
        {
          "u_lose_var": "flag_death_lend_goons"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "followup": "MISSION_Jerry_Bumpkin_3",
    "dialogue": {
      "describe": "-",
      "offer": "你做得很好，<name_g>。多亏了你，我可以在这个世界上扩大我的影响力。但如果我的基地是一个破败的老藏身处，我怎么能赢得别人的尊重呢？我需要更大，更高的…我知道，摩天大楼！太多的烦恼…一个酒店！我需要一个大而漂亮的酒店，在晚上会发光，并吸引各种幸存者，他们的男孩和我将在入口处抢劫，呵呵。你想帮我买自己的旅馆吗？",
      "accepted": "<very>好，<name_g>，<very>好。我有一个想法，但在我搬到那里之前，我需要清除成群的<zombies>。我想了解这个案子的最新进展，所以带上我的一个手下，听听他们会对你说什么。",
      "rejected": "怕了吗？",
      "advice": "尽量不要弄坏里面的东西。",
      "inquire": "你说完了吗？",
      "success": "我很高兴听到这个消息。当我和我的人取得联系后，我们将开始准备行动。",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_Jerry_Bumpkin_3",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "溺水行李"
    },
    "description": "在失事船的某处找到公文包。",
    "goal": "MGOAL_FIND_ITEM",
    "item": "photo_album",
    "difficulty": 0,
    "value": 0,
    "start": {
      "effect": "follow_only",
      "assign_mission_target": {
        "om_terrain": "shipwreck_river_1",
        "om_special": "Shipwreck"
      },
      "update_mapgen": {
        "om_terrain": "shipwreck_river_4",
        "place_items": [
          {
            "item": "photo_album",
            "x": 10,
            "y": 10
          }
        ]
      }
    },
    "end": {
      "effect": [
        {
          "u_spawn_item": "coin_nickel",
          "count": 1800
        },
        {
          "npc_add_var": "flag_open_reply_nickel",
          "value": "3"
        }
      ]
    },
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "此举的准备工作正如火如荼地进行。现在，我有一个小小的个人要求。我们乘船到了这个州，但遭到了一些怪物的袭击。起初，我们能把他击退，但他带着他的朋友，我们的船很快就变成了筛子。我们不得不迅速离开，留下我们的个人物品和各种用品。问题是，我不得不放弃一些重要的东西，我想把它还回去。你能帮我吗？",
      "accepted": "谢谢，<name_g>。找到我的相册。据我所知，我把它忘在手提箱里了，但我不知道它到底在哪里。你得去找他。",
      "rejected": "怕了吗？",
      "advice": "得<very>小心。如果这个<monster>和他的朋友们决定把我们失事的船作为他的新家，你可能不得不经过艰苦的战斗才能到达那里。",
      "inquire": "你找到了吗？",
      "success": "有点湿，但状况还不错。谢谢您！",
      "success_lie": "-",
      "failure": "-"
    }
  },
  {
    "id": "MISSION_Jerry_Bumpkin_0",
    "type": "mission_definition",
    "has_generic_rewards": false,
    "name": {
      "str": "你见过杰瑞"
    },
    "description": "杰瑞看起来是个好人。",
    "goal": "MGOAL_CONDITION",
    "difficulty": 0,
    "value": 0,
    "origins": [
      "ORIGIN_SECONDARY"
    ],
    "dialogue": {
      "describe": "-",
      "offer": "-",
      "accepted": "-",
      "rejected": "-",
      "advice": "-",
      "inquire": "-",
      "success": "-",
      "success_lie": "-",
      "failure": "-"
    },
    "fail": {
      "effect": {
        "u_add_var": "flag_death_jerry_bumpkin",
        "value": "yes"
      }
    }
  }
]