[
  {
    "id": "gap_generator_OLD",
    "type": "TOOL",
    "name": { "str": "gap generator", "str_pl": "gap generators" },
    "description": "A… black blob that bends light inside it.  You feel weirder by having it around.",
    "volume": "900 ml",
    "weight": "900 g",
    "longest_side": "6 cm",
    "price_postapoc": 25000,
    "to_hit": { "balance": "neutral", "grip": "none", "length": "hand", "surface": "any" },
    "melee_damage": { "bash": 1 },
    "material": [ "steel" ],
    "symbol": "/",
    "looks_like": "slime_scrap",
    "color": "black",
    "charges_per_use": 1,
    "pocket_data": [ { "pocket_type": "MAGAZINE", "ammo_restriction": { "battery": 3 } } ],
    "relic_data": { "charge_info": { "regenerate_ammo": true, "recharge_type": "periodic", "time": "8 h" } },
    "use_action": [
      { "type": "cast_spell", "spell_id": "gap_place_OLD", "no_fail": true, "level": 1 },
      {
        "target": "gap_generator2_OLD",
        "type": "transform",
        "msg": "You turn the gap generator inside out.",
        "menu_text": "Turn inside out",
        "active": true
      }
    ],
    "flags": [ "NO_RELOAD", "NO_UNLOAD", "TRADER_AVOID", "UNBREAKABLE" ],
    "//": "Yes, this is too similar to Aftershock's translocator spell. No, that wasn't inteded, ideally the deploy_furn and cast_spell ranges should be inverted: deploy gap_2 at long range and move into gap_1 at short range, creating max two gaps that stay active for some time",
    "//2": "This works as intended, I just don't like that the placed gap has to be `a`ctivated before use, and the activation message is hardcoded"
  },
  {
    "id": "gap_place_OLD",
    "type": "SPELL",
    "name": "Gap",
    "description": "Open a gap.",
    "spell_class": "NONE",
    "valid_targets": [ "ground" ],
    "effect": "ter_transform",
    "effect_str": "gap_fur_OLD",
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 150,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS" ]
  },
  {
    "id": "gap_generator2_OLD",
    "type": "TOOL",
    "name": { "str": "gap generator", "str_pl": "gap generators" },
    "description": "A… black blob that bends light outside it.  You feel weirder by having it around.",
    "volume": "900 ml",
    "weight": "900 g",
    "longest_side": "6 cm",
    "price_postapoc": 25000,
    "to_hit": { "balance": "neutral", "grip": "none", "length": "hand", "surface": "any" },
    "melee_damage": { "bash": 1 },
    "material": [ "steel" ],
    "symbol": "/",
    "looks_like": "slime_scrap",
    "color": "black",
    "charges_per_use": 1,
    "pocket_data": [ { "pocket_type": "MAGAZINE", "ammo_restriction": { "battery": 3 } } ],
    "relic_data": { "charge_info": { "regenerate_ammo": true, "recharge_type": "periodic", "time": "8 h" } },
    "use_action": [
      { "type": "cast_spell", "spell_id": "gap_move_OLD", "no_fail": true, "level": 1 },
      {
        "target": "gap_generator_OLD",
        "type": "transform",
        "msg": "You turn the gap generator outside in.",
        "menu_text": "Turn outside in",
        "active": true
      }
    ],
    "flags": [ "NO_RELOAD", "NO_UNLOAD", "UNBREAKABLE" ]
  },
  {
    "id": "gap_move_OLD",
    "type": "SPELL",
    "name": "Gap",
    "description": "Move into a gap.",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "translocate",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 300,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
  }
]
