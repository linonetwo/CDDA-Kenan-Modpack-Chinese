[
  {
    "id": "yamame_curedisease",
    "type": "SPELL",
    "name": { "str": "Cure disease" },
    "description": "Remove all diseases from the target.  \nDoes not affect Icy pyrexia, Scarlet plague or Volatile rot.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "self" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "cure_disease",
    "shape": "blast",
    "min_range": 1,
    "max_range": 1,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 350,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "CONCENTRATE", "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "yamame_disease_icypyrexia",
    "type": "SPELL",
    "name": { "str": "Disease: Icy pyrexia" },
    "description": "Infect the target with a frigid disease, causing them to suffer damage over time, while also reducing their movement speed.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "icy_pyrexia",
    "extra_effects": [ { "id": "yamame_disease_icypyrexia2", "hit_self": true } ],
    "shape": "blast",
    "damage_type": "cold",
    "min_dot": { "math": [ "( (u_skill('speech') * 0.15 ) + (u_skill('dodge') * 0.15 ) + 0.95 )" ] },
    "max_dot": 5,
    "min_range": { "math": [ "( (u_skill('speech') * 0.4 ) + (u_skill('dodge') * 0.4 ) + 5.2 )" ] },
    "max_range": 16,
    "min_duration": { "math": [ "( (u_skill('speech') * 30 ) + (u_skill('dodge') * 30 ) + 1290 )" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 66,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Sadly can't reduce attack speed too",
    "//2": "min dot 2, min range 8, min dur 1500"
  },
  {
    "id": "yamame_disease_icypyrexia2",
    "type": "SPELL",
    "name": { "str": "Disease: Icy pyrexia (EOC) (player)" },
    "description": "Adds the effect, which intermitently casts the spell below",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "attack",
    "effect_str": "icy_pyrexia_counter",
    "shape": "blast",
    "min_duration": { "math": [ "100 + var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT" ],
    "//": "Workaround for queue_eocs not working on monsters AND enchants not working on monsters either",
    "//2": "This means the (slightly) simpler: effect (monster) -> ench -> intermittent_eff -> eoc (player) doesn't work",
    "//3": "This is a workaround of that workaround: effect (player) -> ench -> intermittent_eff -> spell (monster) -> eoc (monster) to add var_MIASMA "
  },
  {
    "id": "yamame_disease_icypyrexia2_2",
    "type": "SPELL",
    "name": { "str": "Disease: Icy pyrexia (EOC)" },
    "description": "Forces the target (player) to run the EOC, which adds var_miasmaburst_dmg to nearby 'ally' + 'hostile' if they're currently affected by the disease",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_disease_icypyrexia_eoc",
    "shape": "blast",
    "min_aoe": 64,
    "max_aoe": 64,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "yamame_disease_icypyrexia3",
    "type": "SPELL",
    "name": { "str": "Disease: Icy pyrexia (epidemic)" },
    "description": "Epidemic version of yamame_disease_icypyrexia . This is forced to be casted by those affected by yamame_miasmaepidemic ",
    "spell_class": "NONE",
    "valid_targets": [ "ally" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "icy_pyrexia",
    "shape": "blast",
    "damage_type": "cold",
    "min_dot": { "math": [ "var_icypyrexia_dmg" ] },
    "max_dot": 5,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_duration": { "math": [ "100 + var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_FAIL", "NO_HANDS", "NO_LEGS" ],
    "//": "The vars are set at yamame_opens_spellbook_eoc ",
    "//note": "Can't add 'hostiles' to valid_targets , as it makes the spell affect Yamame too, and dots from spells can't be ignored/removed",
    "//note2": "An alternative is to add targeted_monster_species with every monster species except for ROBOT , but that would remove compatibility with any non-vanilla monster species"
  },
  {
    "id": "yamame_disease_scarletplague",
    "type": "SPELL",
    "name": { "str": "Disease: Scarlet plague" },
    "description": "Infect the target with a weakening plague, causing them to suffer damage over time, while also debilitating them.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "scarlet_plague",
    "extra_effects": [ { "id": "yamame_disease_scarletplague2", "hit_self": true } ],
    "shape": "blast",
    "damage_type": "stab",
    "min_dot": { "math": [ "( (u_skill('speech') * 0.15 ) + (u_skill('dodge') * 0.15 ) + 0.95 )" ] },
    "max_dot": 5,
    "min_range": { "math": [ "( (u_skill('speech') * 0.4 ) + (u_skill('dodge') * 0.4 ) + 5.2 )" ] },
    "max_range": 16,
    "min_duration": { "math": [ "( (u_skill('speech') * 30 ) + (u_skill('dodge') * 30 ) + 1290 )" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 66,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ]
  },
  {
    "id": "yamame_disease_scarletplague2",
    "type": "SPELL",
    "name": { "str": "Disease: Scarlet plague (EOC) (player)" },
    "description": "Adds the effect, which intermitently casts the spell below",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "attack",
    "effect_str": "scarlet_plague_counter",
    "shape": "blast",
    "min_duration": { "math": [ "100 + var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "yamame_disease_scarletplague2_2",
    "type": "SPELL",
    "name": { "str": "Disease: Scarlet plague (EOC)" },
    "description": "Forces the target (player) to run the EOC, which adds var_miasmaburst_dmg to nearby 'ally' + 'hostile' if they're currently affected by the disease",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_disease_scarletplague_eoc",
    "shape": "blast",
    "min_aoe": 64,
    "max_aoe": 64,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "yamame_disease_scarletplague3",
    "type": "SPELL",
    "name": { "str": "Disease: Scarlet plague (epidemic)" },
    "description": "Epidemic version of yamame_disease_scarletplague. This is forced to be casted by those affected by yamame_miasmaepidemic ",
    "spell_class": "NONE",
    "valid_targets": [ "ally" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "scarlet_plague",
    "shape": "blast",
    "damage_type": "stab",
    "min_dot": { "math": [ "var_scarletplague_dmg" ] },
    "max_dot": 5,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_duration": { "math": [ "var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_FAIL", "NO_HANDS", "NO_LEGS" ],
    "//": "The vars are set at yamame_opens_spellbook_eoc "
  },
  {
    "id": "yamame_disease_volatilerot",
    "type": "SPELL",
    "name": { "str": "Disease: Volatile rot" },
    "description": "Infect the target with a volatile affliction, causing them to suffer damage over time.  This disease flares up randomly over its duration, damaging nearby creatures.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "volatile_rot",
    "extra_effects": [ { "id": "yamame_disease_volatilerot2", "hit_self": true } ],
    "shape": "blast",
    "damage_type": "biological",
    "min_dot": { "math": [ "( (u_skill('speech') * 0.15 ) + (u_skill('dodge') * 0.15 ) + 0.95 )" ] },
    "max_dot": 5,
    "min_range": { "math": [ "( (u_skill('speech') * 0.4 ) + (u_skill('dodge') * 0.4 ) + 5.2 )" ] },
    "max_range": 16,
    "min_duration": { "math": [ "( (u_skill('speech') * 30 ) + (u_skill('dodge') * 30 ) + 1290 )" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 66,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min dot 2, min range 8, min dur 1500"
  },
  {
    "id": "yamame_disease_volatilerot2",
    "type": "SPELL",
    "name": { "str": "Disease: Volatile rot (EOC) (player)" },
    "description": "Adds the effect, which intermitently casts the spell(s) below",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "attack",
    "effect_str": "volatile_rot_counter",
    "shape": "blast",
    "min_duration": { "math": [ "var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "yamame_disease_volatilerot2_2",
    "type": "SPELL",
    "name": { "str": "Disease: Volatile rot (EOC)" },
    "description": "Forces the target (player) to run the EOC, which adds var_miasmaburst_dmg to nearby 'ally' + 'hostile' if they're currently affected by the disease",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_disease_volatilerot_eoc",
    "shape": "blast",
    "min_aoe": 64,
    "max_aoe": 64,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "yamame_disease_volatilerot3",
    "type": "SPELL",
    "name": { "str": "Disease: Volatile rot (epidemic)" },
    "description": "Epidemic version of yamame_disease_volatilerot . This is forced to be casted by those affected by yamame_miasmaepidemic ",
    "spell_class": "NONE",
    "valid_targets": [ "ally" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "effect_str": "volatile_rot",
    "shape": "blast",
    "damage_type": "biological",
    "min_dot": { "math": [ "var_volatilerot_dmg" ] },
    "max_dot": 5,
    "min_aoe": 6,
    "max_aoe": 6,
    "min_duration": { "math": [ "var_disease_dur" ] },
    "max_duration": 2100,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_FAIL", "NO_HANDS", "NO_LEGS" ],
    "//": "The vars are set at yamame_opens_spellbook_eoc "
  },
  {
    "id": "yamame_disease_volatilerot_flare",
    "type": "SPELL",
    "name": { "str": "Disease: Volatile rot (flare)" },
    "description": "Flare component for yamame_disease_volatilerot ",
    "spell_class": "NONE",
    "valid_targets": [ "ally" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "biological",
    "min_damage": { "math": [ "( var_volatilerot_dmg * 1 )" ] },
    "max_damage": { "math": [ "( var_volatilerot_dmg * 2 )" ] },
    "min_aoe": 2,
    "max_aoe": 3,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_FAIL", "NO_HANDS", "NO_LEGS", "RANDOM_AOE" ],
    "//": "dmg ~ tick of yamame_disease_volatilerot , up to twice that amount. The vars are set at yamame_opens_spellbook_eoc ",
    "//note": "Can't set 'hostile' too, see yamame_disease_icypyrexia3 "
  },
  {
    "id": "yamame_miasmaburst",
    "type": "SPELL",
    "name": { "str": "Miasma burst" },
    "description": "Release the damage accumulated by your diseases on the target.  Deals damage upfront, but consumes the stored damage in the process.  \nAffected by the damage over time of Icy pyrexia, Scarlet plague and Volatile rot.  The stored damage is slowly reduced over time.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "extra_effects": [ { "id": "yamame_miasmaburst2", "hit_self": true } ],
    "shape": "blast",
    "damage_type": "acid",
    "min_damage": { "math": [ "( var_miasmaburst_dmg * 0.44 )" ] },
    "max_damage": { "math": [ "( var_miasmaburst_dmg * 0.66 )" ] },
    "min_range": { "math": [ "( (u_skill('speech') * 0.6 ) + (u_skill('dodge') * 0.6 ) + 3.9 )" ] },
    "max_range": 12,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 150,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC", "RANDOM_DAMAGE" ],
    "//": "min range 6"
  },
  {
    "id": "yamame_miasmaburst2",
    "type": "SPELL",
    "name": { "str": "Miasma burst (EOC)" },
    "description": "Runs the EOC which resets the dmg var",
    "spell_class": "NONE",
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_miasmaburst_reset_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_FAIL", "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "yamame_miasmaepidemic",
    "type": "SPELL",
    "name": { "str": "Miasma: Epidemic" },
    "description": "Spread the diseases inflicted upon the target to nearby creatures.  \nAffects Icy pyrexia, Scarlet plague and Volatile rot.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_miasmaepidemic_eoc",
    "shape": "blast",
    "min_range": { "math": [ "( (u_skill('speech') * 0.4 ) + (u_skill('dodge') * 0.4 ) + 5.2 )" ] },
    "max_range": 16,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SOMATIC" ],
    "//": "min range 8"
  },
  {
    "id": "yamame_miasmarelease",
    "type": "SPELL",
    "name": { "str": "Miasma release" },
    "description": "Discharge a cloud of miasma, damaging any creature caught by the effect.  Deals bonus damage if the target is currently infected with any of your diseases.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ally", "ground", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "extra_effects": [ { "id": "yamame_miasmarelease2" } ],
    "shape": "cone",
    "damage_type": "acid",
    "min_damage": { "math": [ "( (u_skill('speech') * 2 ) + (u_skill('dodge') * 2 ) + 11 )" ] },
    "max_damage": 65,
    "min_range": 6,
    "max_range": 6,
    "min_aoe": 55,
    "max_aoe": 55,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 150,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min dmg 25"
  },
  {
    "id": "yamame_miasmarelease2",
    "type": "SPELL",
    "name": { "str": "Miasma release (EOC)" },
    "description": "Forces the target to run the EOC, which checks for u_DISEASE to (their) self, and casts the next spell for bonus dmg if that's the case",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_miasmarelease_eoc",
    "shape": "cone",
    "min_range": 6,
    "max_range": 6,
    "min_aoe": 55,
    "max_aoe": 55,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "yamame_miasmarelease3",
    "type": "SPELL",
    "name": { "str": "Miasma release (dmg)" },
    "description": "Bonus dmg component of yamame_miasmarelease ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile", "self" ],
    "ignored_monster_species": [ "ROBOT" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "acid",
    "min_damage": { "math": [ "( var_miasmar_bonus )" ] },
    "max_damage": 30,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT" ],
    "//": "dmg 17 - 43, set at ~66% of yamame_miasmarelease , var is set at yamame_opens_spellbook_eoc "
  },
  {
    "id": "yamame_damnedrope",
    "type": "SPELL",
    "name": { "str": "Damned's rope" },
    "description": "Gather your strength to entangle and pull a target towards your position, stunning it for a short time.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "yamame_damnedrope_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_PROJECTILE", "SILENT" ],
    "//": "Adapted from dash_kokoro. This works marginally better than the no warm-up version, see yamame_damnedrope_UPDATED at touhou_wip_spells.json for the explanation",
    "//2": "The reason why a STR buff is required for this to work is because pull_target is hardcoded to use the formula y = (10/3)*x - (20/3) (#52155), where y is the weight in kg of the target and x is the STR of the caster"
  },
  {
    "id": "yamame_damnedrope2",
    "type": "SPELL",
    "name": { "str": "Damned's rope (pull)" },
    "description": "Entangle a target and pull it towards your position, stunning it for a short time.",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "pull_target",
    "extra_effects": [ { "id": "yamame_damnedrope3" } ],
    "shape": "line",
    "min_range": { "math": [ "( (u_skill('speech') * 0.7 ) + (u_skill('dodge') * 0.7 ) + 4.1 )" ] },
    "max_range": 23,
    "field_id": "fd_web2",
    "field_chance": 1,
    "min_field_intensity": 2,
    "max_field_intensity": 3,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 33,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "EXTRA_EFFECTS_FIRST", "NO_LEGS", "SOMATIC" ],
    "//": "min range 9"
  },
  {
    "id": "yamame_damnedrope3",
    "type": "SPELL",
    "name": { "str": "Damned's rope (stun)" },
    "description": "Stun component of yamame_damnedrope ",
    "spell_class": "NONE",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "mod_moves",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": -150,
    "max_damage": -300,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SILENT" ]
  },
  {
    "id": "yamame_webdismiss",
    "type": "SPELL",
    "name": { "str": "Dismiss webs" },
    "description": "Dismiss webs.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "field", "ground", "item", "self" ],
    "effect": "ter_transform",
    "effect_str": "web_dismiss_terfur",
    "shape": "line",
    "min_range": { "math": [ "( (u_skill('speech') * 0.2 ) + (u_skill('dodge') * 0.2 ) + 4.6 )" ] },
    "max_range": 10,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 100,
    "base_energy_cost": 66,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT", "SOMATIC" ],
    "//": "A different approach by Standing-Storm #71310 made this and kaenbyou_dismissfire work",
    "//2": "min range 6"
  },
  {
    "id": "yamame_webcapture",
    "type": "SPELL",
    "name": { "str": "Capture web" },
    "description": "Immediately weave spider web over the targeted area, slowing down enemies.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "min_range": 6,
    "max_range": 6,
    "min_aoe": { "math": [ "( (u_skill('speech') * 0.2 ) + (u_skill('dodge') * 0.2 ) + 2.6 )" ] },
    "max_aoe": 8,
    "min_duration": { "math": [ "( (u_skill('speech') * 125 ) + (u_skill('dodge') * 125 ) + 625 )" ] },
    "max_duration": 4000,
    "field_id": "fd_web",
    "field_chance": 2,
    "min_field_intensity": 1,
    "max_field_intensity": 2,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 100,
    "base_energy_cost": 133,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Shouldn't be activated without ground",
    "//2": "min aoe 4, min dur 1500"
  },
  {
    "id": "yamame_webbridge",
    "type": "SPELL",
    "name": { "str": "Web bridge" },
    "description": "Weave a horizontal, thick web rope that can be used to bridge open air.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ground" ],
    "effect": "ter_transform",
    "effect_str": "web_bridge_ter",
    "shape": "line",
    "min_damage": 1,
    "max_damage": 1,
    "min_range": { "math": [ "( (u_skill('speech') * 0.75 ) + (u_skill('dodge') * 0.75 ) + 0.75 )" ] },
    "max_range": 21,
    "min_duration": { "math": [ "( (u_skill('speech') * 16500 ) + (u_skill('dodge') * 16500 ) - 85500 )" ] },
    "max_duration": 360000,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 200,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "min range 6, min dur 30000"
  },
  {
    "id": "yamame_webrappel",
    "type": "SPELL",
    "name": { "str": "Web rappel" },
    "description": "Weave a vertical, thin yet very resistant string of web that can be used to descend.",
    "spell_class": "NONE",
    "teachable": false,
    "valid_targets": [ "ground" ],
    "effect": "ter_transform",
    "effect_str": "web_rappel_fur",
    "shape": "blast",
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 4,
    "max_range": 4,
    "min_duration": { "math": [ "( (u_skill('speech') * 16500 ) + (u_skill('dodge') * 16500 ) - 85500 )" ] },
    "max_duration": 360000,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 100,
    "base_energy_cost": 100,
    "energy_source": "MANA",
    "flags": [ "NO_LEGS", "SOMATIC" ],
    "//": "Duration should always be the same as yamame_webbridge "
  }
]
