[
  {
    "type": "talk_topic",
    "id": "TALK_ALLY_ORDERS",
    "responses": [
      {
        "text": "你身上有啤酒吗？",
        "condition": {
          "npc_has_var": "know_brew",
          "type": "flag",
          "context": "brew",
          "value": "yes"
        },
        "trial": {
          "type": "CONDITION",
          "condition": {
            "not": {
              "math": [
                "time_since(npc_time_brew_time_brew)",
                "<",
                "time('14 d')"
              ]
            }
          }
        },
        "success": {
          "topic": "TALK_DRUNKEN_BREW"
        },
        "failure": {
          "topic": "TALK_DRUNKEN_BREW_nope"
        }
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_DRUNKEN_BREW",
    "dynamic_line": "当然，我有一些剩菜。想现在喝吗？",
    "responses": [
      {
        "text": "是的，给我。",
        "topic": "TALK_DONE",
        "effect": [
          {
            "npc_add_var": "need_time",
            "type": "time",
            "context": "brew",
            "time": true
          },
          {
            "npc_add_effect": "dm_brew",
            "duration": "14400 s"
          },
          {
            "u_add_effect": "dm_brew",
            "duration": "14400 s"
          }
        ]
      },
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  },
  {
    "type": "talk_topic",
    "id": "TALK_DRUNKEN_BREW_nope",
    "dynamic_line": "现在没什么，<name_g>，但我正在做一个新的。以后再问我。",
    "responses": [
      {
        "text": "<done_conversation_section>",
        "topic": "TALK_NONE"
      }
    ]
  }
]